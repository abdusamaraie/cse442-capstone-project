apiVersion: v1
kind: Service
metadata:
  name: neo4j
  labels:
    app: neo4j
    component: core
spec:
  clusterIP: None
  ports:
    - port: 7474
      targetPort: 7474
      name: browser
    - port: 6362
      targetPort: 6362
      name: backup
  selector:
    app: neo4j
    component: core
---
apiVersion: v1
kind: Service
metadata:
  name: access
spec:
  selector:
    app: neo4j
    statefulset.kubernetes.io/pod-name: neo4j-core-0
  ports:
  - name: browser
    protocol: TCP
    port: 80
    targetPort: 7474
  - name: bolt
    protocol: TCP
    port: 7687
    targetPort: 7687
  type: LoadBalancer